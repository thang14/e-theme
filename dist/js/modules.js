!function(a,b,c,d){"use strict";var e=c.module("app.kernel",["ngResource","ui.bootstrap","ui.grid","ui.grid.edit"]);e.config(["$provide","$urlRouterProvider",function(a,b){b.otherwise("/")}]),e.service("initService",["$http","$rootScope","Environment",function(a,b,c){return{launch:function(){b.domain=c.settings.domain}}}]),c.module("app.kernel").factory("resourceService",["Environment","$resource",function(a,b){var d=function(d){var e=this.api=a.settings.api+"/"+d+a.settings.prefix,f=b(e+"/:id",{id:"@id"},{charge:{method:"POST",params:{charge:!0}}});return f.all=function(a,b){return this.query({},a,b)},f.prototype.$id=function(){return c.isUndefined(this.id)?!1:this.id},f};return d}])}(window,_,window.angular),function(a,b,c,d){"use strict";var e=c.module("app.product",["app.media","ui.utils.masks","ngTagsInput","cgNotify"]);e.config(["$stateProvider",function(a){var c=["Sections",function(a){return a.query()}],d=["$stateParams",function(a){return a.id}],e=["$stateParams",function(a){return a.variantId}];a.state("product",{title:"Danh sách sản phẩm",url:"/product",controller:"productController",templateUrl:"/web/product/list.html",resolve:{gridOptions:["productGrid","$scope",function(a,b){return a.gridOptions(b)}]}}).state("product.new",{title:"Sản phẩm mới",url:"/new",views:{"@":{controller:"productDetailController",templateUrl:"/web/product/detail.html"}},resolve:{productItem:["Products","Variants",function(a,b){return new a({variant:new b})}],sections:c}}).state("product.detail",{title:"Chi tiết sản phẩm",url:"/:id",views:{"@":{controller:"productDetailController",templateUrl:"/web/product/detail.html",resolve:{productId:d,productItem:["Products","productId",function(a,b,c){var d=a.get({id:b},function(){d.variants=c});return d}],variants:["Variants","productId",function(a,b){return a.query({product_id:b})}],sections:c}}}}).state("product.detail.variant.new",{title:"Thên biến thể",url:"/new",views:{"@":{controller:"variantDetailController",templateUrl:"/web/product/variant/detail.html",resolve:{variantItem:["Variants",function(a,b){return new a({product_id:b.id})}]}}}}).state("product.detail.variant.detail",{title:"Thên biến thể",url:"/:variantId",views:{"@":{controller:"variantDetailController",templateUrl:"/web/product/variant/detail.html",resolve:{variantId:e,variantItem:["variants","variantId",function(a,c,d){return b.find(a,function(a){return a.id==d})}]}}}})}]),e.controller("productDetailController",["$scope","$state","productItem","sections","i18nNotifications","$uibModal",function(a,b,d,e,f,g){var h=a.product=d;a.sections=e;var i=function(){b.go("product")};$scop.onDelete=i,a.onSaveAndFinish=i,a.newVariant=function(){b.go("product.detail.variant.new")},a.viewVariant=function(a){b.go("product.detail.variant.detail",{variantId:a})},a.variantMedias=function(a){return j({templateUrl:"/web/product/modal/media-list.html",controller:"mediaListController",resolve:{variant:function(){return a}}})},a.variantDetail=function(a){return j({templateUrl:"/web/product/modal/variant-detail.html",controller:"variantDetailController",resolve:{variant:function(){return a},product:function(){return h}}})},a.variantNew=function(){return j({templateUrl:"/web/product/modal/variant-detail.html",controller:"variantDetailController",resolve:{variant:["product","Variants",function(a,b){return new b({product_id:a.$id()})}],product:function(){return h}}})};var j=function(a){return a=a||{},{open:function(b){var d={animation:!0,size:b};return g.open(c.extend(d,a))}}}}]).controller("variantDetailController",["$scope","$state","variant","product",function(a,b,c,d){a.variant=c,a.product=d;var e=a.options=d.variant_options;a.$watch("option",function(a){a.forEach(function(a,b){var d=e[b].indexOf(a);-1===d&&(e[b].push(a),d=e[b].length-1,c.option[b]=d)})});var f=function(){b.go("product",{id:d.id})};a.onSave=function(a){d.variants.push(resource),d.$save(a)},a.onSaveAndFinish=function(){scope.onSave(f)},a.onDelete=f,a.onCancel=f}]).controller("mediaListController",["$scope","variant","$uibModalInstance",function(a,b,c){a.resource=b,a.items=b.medias,a.cancel=function(){c.dismiss("cancel")}}]),e.controller("productController",["$scope","$state","gridOptions",function(a,b,c){a.currentPage=1,a.maxSize=5,a.gridOptions=gridOptions,a.viewDetail=function(a){b.transitionTo("product.detail",{id:a.entity.id})},a.newProduct=function(a){b.transitionTo("product.new")}}]),e.service("productGrid",["Products",function(a){return{columns:[{name:"action",displayName:""},{name:"name",displayName:"Tên",cellTemplate:['<div class="ui-grid-cell-contents" title="TOOLTIP"> ','<a ui-sref="product.detail({id:row.entity.id})">{{COL_FIELD}}</a>',"</div>"].join("")},{name:"price",displayName:"Giá tiền"},{name:"sale",displayName:"Khuyến mãi"},{name:"quantity",displayName:"Số lượng"}],gridOptions:function(a){var b=a.options||{},d={selectionRowHeaderWidth:35,rowHeight:35,showGridFooter:!1,enableFiltering:!1,enableSorting:!1,useExternalFiltering:!0,columnDefs:this.columns,load:function(a,b){var c=resource.query(a,function(){this.data=c.items,this.totalItems=c.total}.bind(this))},onRegisterApi:function(b){this.api=b,a.saveRow&&b.rowEdit.on.saveRow(a,a.saveRow)}};return c.extend(d,b)}}}]),e.service("productTemplates",function(){return{templates:[["color_name"],["size_name"],["style_name"],["configure_name"],["weight_name"],["cover_tyle_name"],["color_name","size_name"],["color_name","style_name"],["color_name","configure_name"],["color_name","size_name","style_name"],["color_name","size_name","configure_name"],["color_name","style_name","configure_name"].configure_name,["size_name","style_name"],["size_name","configure_name"],["size_name","style_name","configure_name"],["style_name","configure_name"]],labels:{color_name:"Màu sắc",size_name:"Kích thước",style_name:"Kiểu dáng",configure_name:"Cấu hình",weight_name:"Trọng lượng",cover_type_name:"Loại bìa"},getDropdownList:function(){var a=[];return c.forEach(this.themes,function(b,d){var e=[];c.forEach(b,function(a){e.push(this.labels[a])},this),a[d]=e.join(", ")},this),a}}})}(window,_,window.angular),function(a,b,c,d){"use strict";c.module("app.auth",[]).run(["$http","$state","$rootScope","Auth","Environment",function(a,b,c,e,f){c.$on("$stateChangeStart",function(a,f,g,h,i){c.auth===d?c.auth=e.get({},function(){c.auth||(c.auth=!1,a.preventDefault(),b.transitionTo("userLogin"))}):0==c.auth&&(a.preventDefault(),b.transitionTo("userLogin"))})}])}(window,_,window.angular),function(a,b,c,d){}(window,_,window.angular),function(a,b,c,d){"use strict";c.module("app.shop",[]).run(["$http","$state","$rootScope","Shop","Environment",function(a,b,c,e,f){c.$on("$stateChangeStart",function(a,g,h,i,j){c.shop===d?c.shop=e.get({slug:f.settings.namespace},function(){c.shop||(a.preventDefault(),b.transitionTo("404"))}):0==c.shop&&(a.preventDefault(),b.transitionTo("404"))})}])}(window,_,window.angular),function(a,b,c,d){"use strict";var e=c.module("app.section",[]);e.config(["$stateProvider",function(a){var c=["Categories",function(a){return Category.all()}];a.state("section",{title:"Mục",url:"/section",controller:"sectionController",templateUrl:"/web/section/list.html",resolve:{sections:["Sections",function(a){return a.all()}]}}).state("section.new",{title:"Thêm mục mới",url:"/new",views:{"@":{controller:"sectionDetailController",templateUrl:"/web/section/detail.html",resolve:{sectionItem:["Sections",function(a){return new a}],categories:c()}}}}).state("section.detail",{title:"Chi tiết mục",url:"/:id",views:{"@":{controller:"sectionDetailController",templateUrl:"/web/section/detail.html",resolve:{sectionId:getSectionId(),sectionItem:["Sections","sections",function(a,c){return b.find(a,function(a){return a.id==c})}],categories:c()}}}})}]),e.controller("sectionDetailController",["$scope","$state","sectionItem","categories",function(a,b,c){a.resource=c,a.categories=categories,a.onDelete=function(){b.go("section")},a.onSaveAndFinish=function(){b.go("section")}}]),e.controller("sectionController",["$scope","$state","sections",function(a,b,c){a.sections=c,a.view=function(a){b.go("section",{id:a})}}])}(window,_,window.angular),function(a,b,c,d){"use strict";var e=c.module("app.order",[]);e.config(["$stateProvider",function(a){a.state("order",{title:"Order",url:"/order",controller:"orderController",templateUrl:"/web/order/list.html"}).state("order.detail",{title:"Order Detail",url:"/:orderId",controller:"orderDetailController",templateUrl:"/web/order/detail.html"})}]),e.controller("orderDetailController",["$scope","orderItem",function(a,b){this.resource=b}]),e.controller("orderController",["$scope","gridOptions",function(a,b){a.gridOptions=b}]),e.service("orderService",["baseService",function(a){return c.extend(a,{collectionName:"order"})}])}(window,_,window.angular),function(a,b,c,d){"use strict";var e=c.module("app.reports",[]);e.config(["$stateProvider",function(a){a.state("reports",{title:"Reports",url:"/reports",controller:"reportsController",templateUrl:"/web/reports/reports.html"})}]),e.controller("reportsController",["$scope","reportsService",function(a,b){}])}(window,_,window.angular),function(a,b,c,d){"use strict";var e=c.module("app.settings",[]);e.config(["$stateProvider",function(a){a.state("settings",{title:"Settings",url:"/settings",controller:"settingsController",templateUrl:"/web/settings/settings.html"})}]),e.controller("settingInfoController",["$scope",function(a){}]),e.controller("settingManagerController",["$scope",function(a){}]),e.controller("settingPaymentsController",["$scope",function(a){}]),e.controller("settingsController",["$scope",function(a){}]),e.service("settingsService",["baseService",function(a){return c.extend(a,{collectionName:"settings"})}])}(window,_,window.angular),function(a,b,c,d){"use strict";var e=c.module("app.dashboard",[]);e.config(["$stateProvider",function(a){a.state("home",{title:"Dashboard",url:"/",controller:"dashboardController",templateUrl:"/web/dashboard/dashboard.html"})}]),e.controller("dashboardController",["$location","$scope","$rootScope",function(a,b,c){}]),e.service("dashboardService",["$http","Environment",function(a,b){return{getRole:function(){var c=b.settings.api+"/role";return a.get(c)}}}])}(window,_,window.angular),function(a,b,c,d){"use strict";c.module("app.media",["ngFileUpload"])}(window,_,window.angular),function(a,b,c,d){"use strict";c.module("app.base",[])}(window,_,window.angular);
//# sourceMappingURL=modules.js.map